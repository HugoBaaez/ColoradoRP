<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Clothing Menu </title>
	<script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
	<script src="https://www.rcpisawesome.co.uk/dev/RCPMenu.js"></script>
	<link href="https://www.rcpisawesome.co.uk/dev/RCPMenu.css" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Kaushan+Script" rel="stylesheet">
	<script>
		$(function() {
			var location = window.location.href;
			var directoryPath = location.substring(6, location.lastIndexOf("/")+1);
			$('#SearchBar').keyup(function(){
				map = {};
			});
			$('#SearchBarExact').keyup(function(){
				map = {};
			});
			$('button').click(function(){
				if (this.id =="RandomClothing"){$.post('http://'+directoryPath+this.id);
				}else if (this.id =="PedPresetUse"){
					var preset = $("#PedPresetInput").val();
					if(preset.length == 0){
						$("#PedPresetInput").val(0);
						var preset = 0;
					}
					$.post(('http://'+directoryPath+"Preset"), JSON.stringify({preset: preset}));
				}else if (this.id =="PedPresetNext"){
					var preset = $("#PedPresetInput").val();
					if(preset.length == 0){
						$("#PedPresetInput").val(0);
						var preset = 0;
					}
					var preset = parseInt(preset)+1
					$("#PedPresetInput").val(preset);
					$.post(('http://'+directoryPath+"Preset"), JSON.stringify({preset: preset}));
				}else if (this.id =="PedPresetPrevious"){
					var preset = $("#PedPresetInput").val();
					if(preset.length == 0){
						$("#PedPresetInput").val(0);
						var preset = 0;
					}
					var preset = parseInt(preset)-1
					if(preset <= 0 ){var preset = 0}
					$("#PedPresetInput").val(preset);
					$.post(('http://'+directoryPath+"Preset"), JSON.stringify({preset: preset}));
				}else if ($(this).attr('class') =="Searchable MPPreset"){$.post(('http://'+directoryPath+"MPPreset"), JSON.stringify({preset: $(this).attr('name')}));
				}else if ($(this).attr('class') =="Searchable Component"){$.post(('http://'+directoryPath+"Component"), JSON.stringify({componenthash: $(this).attr('name'),componentgrouphash:$(this).attr('title')}));
				}else if ($(this).attr('class') =="BodySize"){$.post(('http://'+directoryPath+"BodySize"), JSON.stringify({type: $(this).attr('name')}));
				}else if ($(this).attr('class') =="WaistSize"){$.post(('http://'+directoryPath+"WaistSize"), JSON.stringify({type: $(this).attr('name')}));
				}else{$.post(('http://'+directoryPath+"Model"), JSON.stringify({model: $(this).attr('name')}));
				}
			});

			$('.FacialFeature').on("input propertychange change click",function(){
				var face = $(this).val();
				if (!face.includes(".")){var face = face+".0"}
				$("#"+this.id+"input").val(face);
				$.post(('http://'+directoryPath+"FacialFeature"), JSON.stringify({feature: $(this).attr('name'),value: face}));
			})

			$('.FacialFeatureInput').on("input",function(){
				var face = $(this).val();
				if (!face.includes(".")){var face = face+".0"}
				var barid = this.id;
                var bar = barid.substring(0,barid.length-5);
				$("#"+bar).val(face);
				$.post(('http://'+directoryPath+"FacialFeature"), JSON.stringify({feature: $("#"+bar).attr('name'),value: face}));
			})

			var button = document.querySelectorAll('button')
			for (i = 0; i < button.length; i++) {
				var name = button[i].getAttribute("name").trim();
				var value = button[i].getAttribute("value");
				if (value === ""){	
					button[i].innerHTML = name;
				}else{
					button[i].innerHTML = name+"|"+value;
				}
			}

			var map = {};
			onkeydown = onkeyup = function(e){
				map[e.keyCode] = e.type == 'keydown';

				if(map[27]){
					$.post('http://'+directoryPath+'close');/*key: escape*/
					map = {};
				}else if(map[17] && map[87]){ $.post('http://'+directoryPath+'W');
				}else if(map[17] && map[83]){ $.post('http://'+directoryPath+'S');
				}else if(map[17] && map[65]){ $.post('http://'+directoryPath+'A');
				}else if(map[17] && map[68]){ $.post('http://'+directoryPath+'D');
				}else if(map[17] && map[16]){ $.post('http://'+directoryPath+'Shift');
				}else if(map[17] && map[32]){ $.post('http://'+directoryPath+'Space');
				
				}else if(map[17] && map[81]){ $.post('http://'+directoryPath+'Q');
				}else if(map[17] && map[69]){ $.post('http://'+directoryPath+'E');
				
				}else if(map[17] && map[37]){ $.post('http://'+directoryPath+'LeftArrow');
				}else if(map[17] && map[39]){ $.post('http://'+directoryPath+'RightArrow');
				}else if(map[17] && map[38]){ $.post('http://'+directoryPath+'UpArrow');
				}else if(map[17] && map[40]){ $.post('http://'+directoryPath+'DownArrow');
				
				}else if(map[17] && map[90]){ $.post('http://'+directoryPath+'Z');
				}else if(map[17] && map[88]){ $.post('http://'+directoryPath+'X');
				}else if(map[17] && map[67]){ $.post('http://'+directoryPath+'C');
				}else if(map[17] && map[86]){ $.post('http://'+directoryPath+'V');

				}else if(map[17] && map[72]){ $.post('http://'+directoryPath+'H');
				}else if(map[17] && map[219]){ $.post('http://'+directoryPath+'[');
				}else if(map[17] && map[221]){ $.post('http://'+directoryPath+']');

				}else if(map[17] && map[84]){ $.post('http://'+directoryPath+'T');
				}
			};
			
		});
	</script>
	<style>
		#menu{
			height: 83%;
		}
		.tab{
			height: 80%;
		}
		.tabbutton{
			width: 50%;
		}		
	</style>
</head>
<body>
	<div id="menu">
		<div id='titlebar'>
			<div id="close">X</div>
			<label class="switch">
				<input id="switch" type="checkbox" checked>
				<span class="slider"></span>
			</label>
			<div id="title"></div>
		</div>
		<div>
			<input type="text" id="SearchBarExact" placeholder="🔍SEARCH EXACT PHRASE">
			<input type="text" id="SearchBar" placeholder="🔍SEARCH">
		</div>


		<div id="tabdefault" class="tabbutton">Ped Presets</div>

		<!-- 11406 components -->
		
		<div id="PedPresets" class="tab">
			<button id="RandomClothing" name="Randomises Ped Clothing/Resets Player or Multiplayer Clothing" value=""></button>
			<div>
				<input  id="PedPresetInput" type="number" min="0" value="0" step="1" oninput="validity.valid||(value='0');">
				<button id="PedPresetUse" name="Use" value=""></button>
				<button id="PedPresetNext" name="Next" value=""></button>
				<button id="PedPresetPrevious" name="Previous" value=""></button>
			</div>
		</div>

		
	</div>
</body>
</html>